<div class="fluid
            {{c.isPobjectDirectory(pobject) && pobject.open ? 'active' : ''}}
            {{c.isPobjectDirectory(pobject) ? 'group' : ''}}
            {{c.isPobjectHighlighted(pobject) ? 'highlight' : ''}}"
     ng-show="c.isMatchingSearch(pobject)">
  <div class="col" ng-click="pobject.open = pobject.open ? false : true">
    <span ng-if="c.isPobjectDirectory(pobject)" class="title">
      <span ng-if="!pobject.open" class="glyphicon glyphicon-folder-close"></span>
      <span ng-if="pobject.open" class="glyphicon glyphicon-folder-open"></span>
      <span>{{pobject.title}}</span>
    </span>
    <span ng-if="c.isPobjectFile(pobject)" class="title">
      <a ng-click="c.openFile(pobject)">{{pobject.title}}</a>
    </span>
  </div>
  <div class="col hidden-xs" ng-if="c.isPobjectFile(pobject)">
    <span>{{pobject.lastModified}}</span>
  </div>
  <div class="col text-right" ng-if="c.isPobjectFile(pobject)">
    <div class="btn-group pull-right">
      <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Actions <span class="caret"></span>
      </button>
      <ul class="dropdown-menu">
        <li>
          <a ng-click="c.openFile(pobject)"
             ng-if="c.canEdit(pobject)">Edit</a>
        </li>
        <li>
          <a ng-click="c.openFile(pobject)"
             ng-if="!c.canEdit(pobject) && c.canView(pobject)">View</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<ul ng-if="c.isPobjectDirectory(pobject)" class="subgroup" ng-show="pobject.open">
  <li ng-repeat="pobject in pobject.pobjects" ng-include="'files/shared.html'"></li>
</ul>
